<div>
    <div class="ui two column grid">
        <div class="column">
    	   <form class="ui form" ng-class="{'error': !baselineForm.$valid}" name="baselineForm">
                <h4 class="ui header"><i class="globe icon"></i>ABOUT YOUR DESIGN PROJECT</h4>
                <div class="ui segment about">
                    <div class="inline fields">
                        <div class="sixteen wide field required">
                            <label class="static">Country</label>
                            <select class="ui dropdown search"
                                    ng-model="auxModel.country"
                                    ng-options="item.id as item.name for item in geographicProperties.country"
                                    required
                                    name="country">
                                    <option value="">Select</option>
                            </select>
                        </div>
                    </div>
                    <div class="inline fields required">
                        <label class="static">City | State/Prov.</label>
                        <div class="ten wide field">
                            <input type="text" ng-model="auxModel.city"
                                 required name="city" placeholder="City">
                        </div>
                        <div class="six wide field">
                            <select class="ui dropdown search"
                                ng-model="auxModel.state"
                                ng-options="item.id as item.name for item in geographicProperties.state | filter: {filter_id: auxModel.country}"
                                required
                                name="state">
                                <option value="">Select</option>
                            </select>
                        </div>
                    </div>
                    <div class="inline fields">
                        <div class="sixteen wide field required">                                                
                            <label class="static">Postal Code</label>
                            <input type="text" ng-model="auxModel.postalCode"
                                 required name="postalCode" min="0" placeholder="Postal Code">
                        </div>
                    </div>
                    <div ng-include src="'assets/javascripts/common/partials/DegreeDays.html'"></div>
                    <div class="inline fields required">
                        <div class="field">
                            <div class="ui radio">
                                <label>New construction</label>
                                <input type="radio" ng-model="auxModel.newConstruction" ng-init="auxModel.newConstruction=false"
                                   ng-value='true'>
                            </div>
                        </div>
                        <div class="field">
                            <div class="ui radio">
                                <label>Existing Building (&lt;40% New)</label>
                                <input type="radio" ng-model="auxModel.newConstruction" ng-init="auxModel.newConstruction=false"
                                   ng-value='false'>
                            </div>
                        </div>
                    </div>

                </div>
                <h4 class="ui header"><i class="bullseye icon"></i>Energy Reduction Target</h4>
                <div class="ui segment reduction">
                    <p>
                        Choose the reduction target for your building relative to
                        its baseline energy consumption (EUI for a comparable
                        building).
                    </p>
                    <div class="inline fields">
                        <label class="static">Target % Better than Median</label>
                        <div class="five wide field">
                            <input type="number" ng-model="auxModel.percentBetterThanMedian"
                                   name="percentBetterThanMedian" placeholder="Target %"
                                   min="0" max="100">
                        </div>
                        <div class="field">
                            <label ng-show="!baselineForm.percentBetterThanMedian.$valid"><font color="red">[Must Be Number Between 0-100]</font></label>
                        </div>
                    </div>
                </div>
                <h4 class="ui header"><i class="building icon"></i>PROPERTY USE DETAILS</h4>
                <div ng-repeat="prop in propTypes">
                    <div class="ui segment building">
                        <div class="inline fields">
                            <div class="eleven wide field">
                                <h2>{{prop.type}}</h2>
                            </div>
                            <button
                                class="ui labeled large button"
                                ng-click="removeProp(prop)">
                                <i class="minus icon"></i>
                                Remove
                            </button>
                        </div>
                        <div class="ui divider"></div>

                        <div ng-if="prop.type=='DataCenter' && prop.country=='USA'" building-Info baseline-form='baselineForm' type='DataCenter' model="prop"></div>
                        <div ng-if="prop.type=='Hospital' && prop.country=='USA'" building-Info baseline-form='baselineForm' type='Hospital' model="prop"></div>
                        <div ng-if="prop.type=='Hotel' && prop.country=='USA'" building-Info baseline-form='baselineForm' type='Hotel' model="prop"></div>
                        <div ng-if="prop.type=='K12School' && prop.country=='USA'" building-Info baseline-form='baselineForm' type='K12School' model="prop"></div>
                        <div ng-if="prop.type=='MedicalOffice' && prop.country=='USA'" building-Info baseline-form='baselineForm' type='MedicalOffice' model="prop"></div>
                        <div ng-if="prop.type=='Office' && prop.country=='USA'" building-Info baseline-form='baselineForm' type='Office' model="prop"></div>
                        <div ng-if="prop.type=='ResidenceHall' && prop.country=='USA'" building-Info baseline-form='baselineForm' type='ResidenceHall' model="prop"></div>
                        <div ng-if="prop.type=='Retail' && prop.country=='USA'" building-Info baseline-form='baselineForm' type='Retail' model="prop"></div>
                        <div ng-if="prop.type=='SeniorCare' && prop.country=='USA'" building-Info baseline-form='baselineForm' type='SeniorCare' model="prop"></div>
                        <div ng-if="prop.type=='Supermarket' && prop.country=='USA'" building-Info baseline-form='baselineForm' type='Supermarket' model="prop"></div>
                        <div ng-if="prop.type=='Warehouse' && prop.country=='USA'" building-Info baseline-form='baselineForm' type='Warehouse' model="prop"></div>
                        <div ng-if="prop.type=='WastewaterCenter' && prop.country=='USA'" building-Info baseline-form='baselineForm' type='WastewaterCenter' model="prop"></div>
                        <div ng-if="prop.type=='WorshipCenter' && prop.country=='USA'" building-Info baseline-form='baselineForm' type='WorshipCenter' model="prop"></div>
                        <div ng-if="prop.type=='MultiFamily' && prop.country=='USA'" building-Info baseline-form='baselineForm' type='MultiFamily' model="prop"></div>

                        <div ng-if="prop.type=='Hospital' && prop.country=='Canada'" building-Info baseline-form='baselineForm' type='HospitalCanada' model="prop"></div>
                        <div ng-if="prop.type=='K12School' && prop.country=='Canada'" building-Info baseline-form='baselineForm' type='K12SchoolCanada' model="prop"></div>
                        <div ng-if="prop.type=='MedicalOffice' && prop.country=='Canada'" building-Info baseline-form='baselineForm' type='MedicalOfficeCanada' model="prop"></div>
                        <div ng-if="prop.type=='Office' && prop.country=='Canada'" building-Info baseline-form='baselineForm' type='OfficeCanada' model="prop"></div>
                        <div ng-if="prop.type=='Supermarket' && prop.country=='Canada'" building-Info baseline-form='baselineForm' type='SupermarketCanada' model="prop"></div>

                        <div ng-if="prop.type!='DataCenter' && prop.type!='Hospital' &&
                            prop.type!='Hotel' && prop.type!='K12School' && prop.type!='MedicalOffice' &&
                            prop.type!='Office' && prop.type!='ResidenceHall' && prop.type!='Retail' &&
                            prop.type!='SeniorCare' && prop.type!='Supermarket' && prop.type!='Warehouse' &&
                            prop.type!='WastewaterCenter' && prop.type!='MultiFamily' &&
                            prop.type!='WorshipCenter'" building-Info baseline-form='baselineForm' type='Generic' model="prop">

                        </div>

                    </div>

                </div>
                <div class="ui segment" ng-class="{'disabled': !baselineForm.country.$valid}">
                    <p>
                        In order to provide you with an appropriate comparison
                        for your building, we need to know how spaces in this
                        building will be used. If your building has multiple uses,
                        add them below.
                    </p>

                    <div class="inline fields">
                        <div class="sixteen wide field">
                            <label>{{propText}}</label>
                            <label ng-show="buildingTypeRequired"><font color="red">[Required]</font></label>
                            <select class="ui dropdown search"
                                dropdown
                                ng-model="auxModel.buildingType"
                                ng-options="item.id as item.name for item in buildingProperties.buildingType"
                                required name="buildingType">
                                <option value="">Select</option>
                            </select>
                        </div>
                    </div>
                </div>
                <h4 class="ui header"><i class="lightning icon"></i>ESTIMATED DESIGN ENERGY (OPTIONAL)</h4>
                <div class="ui segment">
                    <p>
                        If you want to compare your actual to target performance, please enter
                        your annual energy use metrics below.
                    </p>

                    <div class="field">
                        <div class="ui checkbox">
                            <input type="checkbox" id="cb-enterenergy" ng-model="hideEnergies" name="hideEnergies"
                                   ng-true-value=true ng-false-value=false ng-init="hideEnergies=false">
                            <label for = "cb-enterenergy">I want to enter annual Energy-use Information</label>
                        </div>
                    </div>

                    <div ng-show="hideEnergies">
                        <div class=" fields">
                            <div class="six wide field required">
                                <label>Energy Type</label>
<!--                                <label ng-show="energyTypeRequired"><font color="red">[Please Select]</font></label> -->
                                <select class="ui dropdown"
                                    dropdown
                                    name="energyType"
                                    ng-model="auxModel.energies.energyType"
                                    ng-options="item.id as item.name for item in energyProperties.energyType">
                                    <option value="">Select</option>
                                </select>
                            </div>
                            <div class="five wide field required">
                                <label>Units</label>
                                <!--<label ng-show="energyUnitsRequired"><font color="red">[Please Select]</font></label> -->
                                <select class="ui dropdown"
                                    dropdown
                                    name="energyUnits"
                                    ng-model="auxModel.energies.energyUnits"
                                    ng-options="item.id as item.name for item in energyProperties.energyUnits | filter: {filter_id: auxModel.energies.energyType}">
                                    <option value="">Select</option>
                                </select>
                            </div>
                            <div class="five wide field">
                                    <label>Annual Use</label>
<!--                                    <label ng-show="energyUseRequired"><font color="red">[Required]</font></label>
                                    <label ng-show="baselineForm.energyUse.$error.number"><font color="red">[Must be a Number]</font></label> -->
                                <input type="number" ng-model="auxModel.energies.energyUse"
                                       name="energyUse" min="0"
                                       placeholder="Energy Use">
                            </div>
                            <!-- This is an extra field that might be required in the energy form, other part is in controllers.js
                            <div class="field">
                                    <span>
                                        <label>Rate ($/unit)</label>
                                        <label ng-show="baselineForm.energyRate.$error.number"><font color="red">[Must be a Number]</font></label>
                                    </span>

                                    <input type="number" ng-model="auxModel.energies.energyRate"
                                           name="energyRate" min="0"
                                           placeholder="$/unit">
                            </div>-->
                        </div>

                        <div class="ui labeled button" ng-click="addEnergiesRow()">
                            <i class="add circle icon"></i> Save Entry
                        </div>

                    </div>

                    <table class="ui compact celled table" ng-show="showEnergyTable">
                        <thead>
                            <tr>
                                <th></th>
                                <th>Energy Type</th>
                                <th>Units</th>
                                <th>Total Annual Energy Use</th>
                                <!--<th>Energy Rate ($/unit)</th>-->
                            </tr>
                        </thead>    
                        <tbody>
                            <tr ng-repeat="energyEntry in energies">
                            <td>
                                    <div class="ui labeled button" tabindex="0"  ng-click="removeRow(energyEntry.energyType,
                                             energyEntry.energyUnits,energyEntry.energyUse)">
                                        <i class="minus circle icon"></i> Remove
                                    </div>
                                </td>
                                <td>{{energyEntry.energyType}}</td>
                                <td>{{energyEntry.energyUnits}}</td>
                                <td>{{energyEntry.energyUse}}</td>
                                <!--<td>{{energyEntry.energyRate}}</td>-->
                                
                            </tr>
                        </tbody>
                    </table>

                </div>
                <h4 class="ui header"><i class="bar chart icon"></i>Reporting Units</h4>
                <div class="ui segment">
                    <div ng-init="auxModel.reportingUnits='us'">
                        <div class="inline fields">
                            <div class="field">
                                <label>Conventional: kBtu/ft²</label>
                                <input type="radio" ng-model="auxModel.reportingUnits" name="reportingUnits" value="us">
                            </div>
                            <div class="field">
                                <label>Metric: GJ/m²</label>
                                <input type="radio" ng-model="auxModel.reportingUnits" name="reportingUnits" value="metric">
                            </div>
                        </div>
                    </div>
                </div>

           <!-- These fields finish target finder replication, but are not needed specifically for the 2030 Baseline Tool
                <div class="eight wide field">
                <h4 class="ui header">Additional Computations (Optional)</h4>

                <div class="ui segment" style="background-color:#f0f7fe">
                    <div class="grouped fields">

                        <div class="inline fields">
                            <div class="field">
                                <input type="checkbox" ng-model="getTargetScore"
                                       name="targetScore" ng-true-value=true
                                       ng-false-value=false ng-init="getTargetScore=false">
                                <label>Target ENERGY STAR Score</label>
                            </div>
                            <div class="four wide field" ng-show="getTargetScore">
                                <input type="number" ng-model="auxModel.targetScore"
                                       name="targetScore" placeholder="Target Score"
                                       min="0" max="100">

                            </div>
                            <div class="field">
                                <label ng-show="!baselineForm.targetScore.$valid"><font color="red">[Must Be Number Between 0-100]</font></label>
                            </div>
                        </div>
                        <div class="inline fields">
                            <div class="field">
                                <input type="checkbox" ng-model="getPercentBetterThanMedian"
                                       name="percentBetterThanMedian" ng-true-value=true
                                       ng-false-value=false ng-init="getPercentBetterThanMedian=false">
                                <label>Target % Better than Median</label>
                            </div>

                            <div class="four wide field" ng-show="getPercentBetterThanMedian">
                                <input type="number" ng-model="auxModel.percentBetterThanMedian"
                                       name="percentBetterThanMedian" placeholder="Target %"
                                       min="0" max="100">
                            </div>
                            <div class="field">
                                <label ng-show="!baselineForm.percentBetterThanMedian.$valid"><font color="red">[Must Be Number Between 0-100]</font></label>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
                        <div class="field">
                            <label ng-show="!baselineForm.targetScore.$valid"><font color="red">[Must Be Number Between 0-100]</font></label>
                        </div>
                    </div> -->


                <div class="inline fields">

                    <div class="ui big labeled button" ng-click="submit()">
                        <i class="arrow right icon"></i>  Compute Target
                    </div>
                </div>
    	   </form>
        </div>
        <div class="column">
            <div ng-include ng-if='benchmarkResult != undefined' src="'assets/javascripts/benchmark/benchmark_result.html'">Not Defined</div>
        </div>
    </div>
</div>